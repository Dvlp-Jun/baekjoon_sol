'''
TEST CASE
// 1) : 1 25

5
11111
11111
11111
11111
11111

// 2) : 3 4 20 36

10
1111111111
1000000001
1011111101
1010000101
1010110101
1010110101
1010000101
1011111101
1000000001
1111111111

// 3) : 1 96

25
1111111111111111111111111
1000000000000000000000001
1000000000000000000000001
1000000000000000000000001
1000000000000000000000001
1000000000000000000000001
1000000000000000000000001
1000000000000000000000001
1000000000000000000000001
1000000000000000000000001
1000000000000000000000001
1000000000000000000000001
1000000000000000000000001
1000000000000000000000001
1000000000000000000000001
1000000000000000000000001
1000000000000000000000001
1000000000000000000000001
1000000000000000000000001
1000000000000000000000001
1000000000000000000000001
1000000000000000000000001
1000000000000000000000001
1000000000000000000000001
1111111111111111111111111


// 4) : 50 1 1 1...(46)...1

10
1010101010
0101010101
1010101010
0101010101
1010101010
0101010101
1010101010
0101010101
1010101010
0101010101
'''
def sol(curr_x,curr_y):
    global counter
    dx = [-1,1,0,0]
    dy = [0,0,-1,1]
    
    house[curr_x][curr_y] = 0
    for i in range(4):
        nx = curr_x + dx[i]
        ny = curr_y + dy[i]
        if nx < 0 or nx >= n or ny < 0 or ny >= n:
            continue
        if house[nx][ny] == 1:
            counter += 1
            sol(nx,ny)

n = int(input())
house = []

for i in range(n):
    temp = list(map(int, list(input())))
#   print(temp)
    house.append(temp)
#print(house)
total = 0
count = []
for i in range(n):
    for j in range(n):
        if house[i][j] == 1:
            total += 1
            counter = 1
            sol(i,j)
            count.append(counter)
print(total)
count.sort()
for i in count:
    print(i)
